localrules: split_fq

rule split_fq:
    input:
        "{library}.gz"
    output:
        "split/{library}.aa"
    shell:
        "gzip -dc {input} | split -l 1000 - split/{wildcards.library}."

rule rename_split_fq:
    input:
        "split/{library_prefix}.R1.fastq.{suffix}"
        "split/{library_prefix}.R2.fastq.{suffix}"
    output:
        "split/{splitfile}."
